<form [formGroup]="signUpForm" (submit)="onSubmit()">
  <!-- Usuario -->
  <div class="control" [class.invalid]="classInvalid('username')" [class.valid]="classValid('username')">
    <label for="username">ğŸ‘¤ Usuario</label>
    <input
      id="username"
      type="text"
      formControlName="username"
      [placeholder]="this.placeholder.username"
      title="IngresÃ¡ tu apodo o alias"
    />
    <div class="error-message" *ngIf="isInvalid('username') && isDirty('username')">
      <p>El nombre de usuario es requerido</p>
    </div>
  </div>

  <!-- Nombre -->
  <div class="control" [class.invalid]="classInvalid('firstName')" [class.valid]="classValid('firstName')">
    <label for="firstName">&#11088; Nombre</label>
    <input
      id="firstName"
      type="text"
      formControlName="firstName"
      [placeholder]="placeholder.firstName"
      title="IngresÃ¡ tu nombre real o visible"
    />
    <div class="error-message" *ngIf="isInvalid('firstName') && isDirty('firstName')">
      <span>El nombre es requerido</span>
    </div>
  </div>

  <!-- Apellido -->
  <div class="control" [class.valid]="classValid('lastName')">
    <label for="lastName">ğŸ‘¥ Apellido (opcional)</label>
    <input
      id="lastName"
      type="text"
      formControlName="lastName"
      [placeholder]="placeholder.lastName"
      title="No es obligatorio completar este campo"
    />
  </div>

  <!-- Email -->
  <div class="control" [class.invalid]="classInvalid('email')" [class.valid]="classValid('email')">
    <label for="email">ğŸ“§ Email</label>
    <input
      id="email"
      type="email"
      formControlName="email"
      [placeholder]="placeholder.email"
      title="Ej: nombre@gmail.com"
    />
    <div class="error-message" *ngIf="isInvalid('email') && isDirty('email')">
      <p *ngIf="signUpForm.get('email')?.hasError('required')">El email es requerido</p>
      <p *ngIf="signUpForm.get('email')?.hasError('email')">El formato no es vÃ¡lido</p>
    </div>
  </div>

  <!-- ContraseÃ±a -->
  <div class="control" [class.invalid]="classInvalid('password')" [class.valid]="classValid('password')">
    <label for="password">ğŸ” ContraseÃ±a</label>
    <input
      id="password"
      type="password"
      formControlName="password"
      [placeholder]="placeholder.password"
      title="Debe tener al menos {{ MINpasswordLength }} caracteres"
    />
    <div class="error-message" *ngIf="isInvalid('password') && isDirty('password')">
      <p *ngIf="signUpForm.get('password')?.hasError('required')">La contraseÃ±a es requerida</p>
      <p *ngIf="signUpForm.get('password')?.hasError('minlength')">
        La contraseÃ±a debe tener mÃ­nimo {{ MINpasswordLength }} caracteres
      </p>
    </div>
  </div>

  <!-- Confirmar ContraseÃ±a -->
  <div class="control" [class.invalid]="signUpForm.hasError('passwordMismatch')" [class.valid]="classValid('password') && !signUpForm.hasError('passwordMismatch')">
    <label for="confirmPassword">ğŸ” Confirmar ContraseÃ±a</label>
    <input
      id="confirmPassword"
      type="password"
      formControlName="confirmPassword"
      [placeholder]="placeholder.confirmPassword"
      data-bs-toggle="tooltip" 
      data-bs-placement="right"
      title="Debe coincidir con la anterior"
    />
    <div class="error-message" *ngIf="signUpForm.hasError('passwordMismatch')">
      <p>Las contraseÃ±as no coinciden</p>
    </div>
  </div>

  <!-- Botones -->
  <div class="form-buttons">
    <button type="button" class="btn btn-secondary" (click)="setDefaultValues()">ğŸ§ª Cargar Datos de Prueba</button>
    <button type="submit" class="btn btn-primary" [disabled]="signUpForm.invalid">âœ… Registrarse</button>
  </div>

  <!-- Mensajes -->
  <div *ngIf="succes" class="mensaje alert alert-success"> Su usuario ah creado! ğŸ¥³</div>
  <div *ngIf="error" class="mensaje alert alert-danger"> Error, el e-mail "{{signUpForm.get('email')?.value}}" se encuentra registrado.</div>

</form>

