<!-- table.table>thead>tr>th*4 -->
<table class="table table-striped table-hover text-center">
  <thead class="table-dark">
    <tr>
      <th scope="col" aria-label="Beer-Image"></th>
      <th scope="col">nombre</th>
      <th scope="col">tipo</th>
      <th scope="col">precio</th>
      <th scope="col">stock</th>
      <th scope="col">Compra</th>
    </tr>
  </thead>
  <tbody>
    <ng-container *ngIf="beers && beers.length > 0; else empty">

      <tr scope="row" *ngFor="let beer of beers" 
        [ngClass]="{
          'clearance': beer.clearance,
          'table-warning': beer.clearance,       
        }">     <!-- table-warning:  le da el color a la fila de la tabla -->
        <!-- <td><img [src]="beer.image" [alt]="beer.name" class="img-fluid img-beer" style="max-height: 100px;"></td> -->
        <td><img [src]="beer.image" [alt]="beer.name" class="img-beer"></td>
        <td>{{ beer.name }}</td>
        <td>{{ beer.type }}</td>
        <td>{{ beer.price | currency }}</td>

        <!-- Sin stock -->
        <ng-container *ngIf="beer.stock === 0">
          <td class="text-center">
            <span class="badge bg-danger">
              <i class="bi bi-exclamation-triangle-fill"></i> Sin Stock
            </span>
          </td>
        </ng-container>

        <!-- Stock > 10 -->
        <ng-container *ngIf="beer.stock > 10">
          <td>
            {{ beer.stock }}
            <ng-container *ngIf="beer.clearance">
              <div class="lh-lg">
                <span class="badge bg-warning text-dark">
                <i class="bi bi-lightning-fill"></i> ¡Oferta!
              </span>
              </div>
            </ng-container>
          </td>
        </ng-container>

        <!-- Stock entre 1 y 10 con oferta -->
        <ng-container *ngIf="beer.stock > 0 && beer.stock <= 10">
          <td class="text-center">
            <ng-container *ngIf="beer.clearance; else lowStock">
              <span [ngClass]="{
                'badge': true,
                'bg-warning text-dark': beer.stock > 3,
                'bg-danger': beer.stock <= 3,
                'blink-soft': beer.stock === 1,
              }">
              <i class="bi bi-fire"></i>
              <ng-container *ngIf="beer.stock === 1">¡Última en Oferta!</ng-container>
              <ng-container *ngIf="beer.stock > 1">¡Últimos en Oferta!</ng-container>
              </span>
            </ng-container>
            <!-- Stock entre 1 y 10 sin oferta -->
            <ng-template #lowStock>
              <span [ngClass]="{
                'badge': true,
                'bg-warning text-dark': beer.stock > 3,
                'bg-danger': beer.stock <= 3,
               
                'blink': beer.stock === 1
              }"> 
              <!-- 'blink': beer.stock === 1, -->
                <i class="bi bi-box-seam"></i>
                <ng-container *ngIf="beer.stock === 1">¡Última unidad!</ng-container>
                <ng-container *ngIf="beer.stock > 1">¡No te lo pierdas!</ng-container>
              </span>
            </ng-template>
          </td>
        </ng-container>
        <td>
          <div class="input-group mb-3">
            <div class="input-group">
              <div class="input-group-prepend">
                <button type="button" class="btn btn-dark btn-sm"  
                (click)="downQuantity(beer)">
                -
                </button>
              </div>
              <input type="number" 
                   name="unidades-cervezas" 
                   id= {{beer.name}} 
                   [min]="0"
                   [max]="beer.stock"
                   [value]="beer.buyQuantity" 

                   [(ngModel)]="beer.buyQuantity"
                   (keyup)="validateKey($event, onlyNumbers)"
                   (input)="validateQuantity($event, beer)"> 
                   
              <div class="input-group-append">
                <button type="button" class="btn btn-dark btn-sm"
                (click)="upQuantity(beer)">
                +
                </button>
              </div>

            </div>
          </div>    
        </td>
      </tr>
    </ng-container>
    <ng-template #empty>
      <tr scope="row">
        <td colspan="6">No hay cervezas disponibles</td>
      </tr>
    </ng-template>
  </tbody>
</table>